package main

import (
	"fmt"
	"math"
	"slices"
	"strings"
)

func ExampleDayN() {
	fmt.Println("part 1:", part1(inputs[0]))
	fmt.Println("part 1:", part1(inputs[1]))
	fmt.Println()
	fmt.Println("part 2:", part2(inputs[0]))
	fmt.Println("part 2:", part2(inputs[1]))

	// Output:
	// part 1: 0
	// part 1: 1463
	//
	// part 2: 0
	// part 2: 985332
}

func parse(input string) (map[complex128]rune, complex128, complex128) {
	var start, end complex128
	grid := make(map[complex128]rune)
	for y, row := range strings.Split(input, "\n") {
		for x, col := range []rune(row) {
			pos := complex(float64(x), float64(y))
			switch col {
			case 'S':
				start = pos
				grid[pos] = '.'
			case 'E':
				end = pos
				grid[pos] = '.'
			case '.', '#':
				grid[pos] = col
			default:
				panic("invalid")
			}
		}
	}
	return grid, start, end
}

type State struct {
	pos  complex128
	hist []complex128
}

func solve(grid map[complex128]rune, start, end complex128) *State {
	v := make(map[complex128]bool)
	q := []State{{pos: start}}
	for len(q) > 0 {
		s := q[0]
		q = q[1:]

		if v[s.pos] {
			continue
		}
		v[s.pos] = true
		s.hist = append(s.hist, s.pos)
		if s.pos == end {
			return &s
		}

		if g, ok := grid[s.pos]; !ok || g == '#' {
			continue
		}

		for _, d := range []complex128{1, -1, 1i, -1i} {
			q = append(q, State{
				pos:  s.pos + d,
				hist: slices.Clone(s.hist),
			})
		}
	}

	return nil
}

func part1(input string) int {
	grid, start, end := parse(input)
	state := solve(grid, start, end)
	count := 0

	phase := 2
	saved := 100

	for i := 0; i < len(state.hist); i++ {
		for j := i + 1; j < len(state.hist); j++ {
			a, b := state.hist[i], state.hist[j]
			if manhattan(a, b) == phase {
				c := (a + b) / 2
				steps := len(state.hist) - j + i + phase
				steps = len(state.hist) - steps
				if grid[c] == '#' && steps >= saved {
					count++
				}
			}
		}
	}

	return count
}

func part2(input string) int {
	grid, start, end := parse(input)
	state := solve(grid, start, end)
	count := 0

	phase := 20
	saved := 100

	for i := 0; i < len(state.hist); i++ {
		for j := i + 1; j < len(state.hist); j++ {
			a, b := state.hist[i], state.hist[j]
			dist := manhattan(a, b)
			if dist <= phase {
				steps := len(state.hist) - j + i + dist
				steps = len(state.hist) - steps
				if steps >= saved {
					count++
				}
			}
		}
	}

	return count
}

func manhattan(a, b complex128) int {
	x := real(a) - real(b)
	y := imag(a) - imag(b)
	return int(math.Abs(x) + math.Abs(y))
}

var inputs = []string{
	`###############
#...#...#.....#
#.#.#.#.#.###.#
#S#...#.#.#...#
#######.#.#.###
#######.#.#...#
#######.#.###.#
###..E#...#...#
###.#######.###
#...###...#...#
#.#####.#.###.#
#.#...#.#.#...#
#.#.#.#.#.#.###
#...#...#...###
###############`,
	`#############################################################################################################################################
#...#.....#...#.........#...#...#.....#...###...#.....###...#...#...#.....#...#.....#.....#.......#...#...###.............#...#...#...###...#
#.#.#.###.#.#.#.#######.#.#.#.#.#.###.#.#.###.#.#.###.###.#.#.#.#.#.#.###.#.#.#.###.#.###.#.#####.#.#.#.#.###.###########.#.#.#.#.#.#.###.#.#
#.#.#...#...#.#.......#.#.#.#.#.#...#...#.#...#...#...#...#.#.#.#.#...#...#.#.#...#.#.#...#.#.....#.#.#.#...#.........#...#.#.#.#.#.#.....#.#
#.#.###.#####.#######.#.#.#.#.#.###.#####.#.#######.###.###.#.#.#.#####.###.#.###.#.#.#.###.#.#####.#.#.###.#########.#.###.#.#.#.#.#######.#
#.#.###.#.....#.......#.#.#.#.#.#...#.....#.......#...#...#.#.#.#.#.....#...#.....#.#.#...#.#.#...#.#.#.#...#.........#.#...#.#.#.#.#.......#
#.#.###.#.#####.#######.#.#.#.#.#.###.###########.###.###.#.#.#.#.#.#####.#########.#.###.#.#.#.#.#.#.#.#.###.#########.#.###.#.#.#.#.#######
#.#.#...#.#...#...#...#...#...#.#...#.#...#.....#...#.###.#.#.#.#.#.#...#.#...#.....#.#...#.#...#.#.#.#.#...#.........#.#.#...#.#.#.#...#...#
#.#.#.###.#.#.###.#.#.#########.###.#.#.#.#.###.###.#.###.#.#.#.#.#.#.#.#.#.#.#.#####.#.###.#####.#.#.#.###.#########.#.#.#.###.#.#.###.#.#.#
#.#.#.#...#.#.###...#.........#.###.#.#.#.#.#...#...#...#.#.#.#...#.#.#.#.#.#...###...#.....#.....#.#.#...#.#...#...#.#.#.#.#...#...#...#.#.#
#.#.#.#.###.#.###############.#.###.#.#.#.#.#.###.#####.#.#.#.#####.#.#.#.#.#######.#########.#####.#.###.#.#.#.#.#.#.#.#.#.#.#######.###.#.#
#.#...#.###.#.#...#...#.......#...#.#...#...#...#.#...#...#.#...#...#.#.#.#.#...#...#.....#...#.....#.#...#...#...#.#.#.#.#...#...#...#...#.#
#.#####.###.#.#.#.#.#.#.#########.#.###########.#.#.#.#####.###.#.###.#.#.#.#.#.#.###.###.#.###.#####.#.###########.#.#.#.#####.#.#.###.###.#
#.....#...#.#.#.#.#.#.#.........#.#.#...........#...#.....#.#...#...#.#...#...#.#.#...###...###.#...#.#.....#.....#.#.#.#.#.....#...###.#...#
#####.###.#.#.#.#.#.#.#########.#.#.#.###################.#.#.#####.#.#########.#.#.###########.#.#.#.#####.#.###.#.#.#.#.#.###########.#.###
#...#...#...#.#.#.#.#.#...#...#.#.#.#.#.....#...###...#...#...#.....#.........#...#.......#...#...#.#.#...#.#.###...#.#...#.....###...#.#...#
#.#.###.#####.#.#.#.#.#.#.#.#.#.#.#.#.#.###.#.#.###.#.#.#######.#############.###########.#.#.#####.#.#.#.#.#.#######.#########.###.#.#.###.#
#.#.#...#...#...#...#...#...#.#.#.#.#...#...#.#...#.#.#.....#...#.........#...#...........#.#.#.....#...#...#.......#...#.......#...#.#.#...#
#.#.#.###.#.#################.#.#.#.#####.###.###.#.#.#####.#.###.#######.#.###.###########.#.#.###################.###.#.#######.###.#.#.###
#.#.#.....#.................#.#.#.#.#.....###.#...#.#.#...#.#...#.#.......#...#.#...###...#.#.#.........#...........#...#...#...#...#.#.#...#
#.#.#######################.#.#.#.#.#.#######.#.###.#.#.#.#.###.#.#.#########.#.#.#.###.#.#.#.#########.#.###########.#####.#.#.###.#.#.###.#
#.#.#.....#...............#.#...#...#.....#...#.#...#...#.#.#...#.#.###...#...#...#...#.#.#.#.###...###.#.....#.....#.....#...#...#.#.#.#...#
#.#.#.###.#.#############.#.#############.#.###.#.#######.#.#.###.#.###.#.#.#########.#.#.#.#.###.#.###.#####.#.###.#####.#######.#.#.#.#.###
#.#.#...#.#.......#.....#.#.......#.......#.#...#.......#...#...#.#.#...#.#...#.......#.#.#.#...#.#...#...#...#.#...#.....#.....#...#...#.###
#.#.###.#.#######.#.###.#.#######.#.#######.#.#########.#######.#.#.#.###.###.#.#######.#.#.###.#.###.###.#.###.#.###.#####.###.#########.###
#.#.....#...#...#.#.#...#.###.....#.###...#.#.#...#...#.......#.#.#.#.#...###.#.....###.#.#...#.#...#...#.#.#...#.....#...#...#.#.......#...#
#.#########.#.#.#.#.#.###.###.#####.###.#.#.#.#.#.#.#.#######.#.#.#.#.#.#####.#####.###.#.###.#.###.###.#.#.#.#########.#.###.#.#.#####.###.#
#.#.......#...#...#.#...#.....#.....#...#.#.#.#.#.#.#.#.....#.#.#.#.#.#.###...#.....#...#.#...#.###.#...#.#.#.#.........#...#.#.#...#...#...#
#.#.#####.#########.###.#######.#####.###.#.#.#.#.#.#.#.###.#.#.#.#.#.#.###.###.#####.###.#.###.###.#.###.#.#.#.###########.#.#.###.#.###.###
#.#...###...........###.......#.#...#...#.#.#.#.#.#.#.#...#.#.#...#...#...#...#...###.#...#...#...#.#...#.#.#.#.#.........#...#.....#.#...###
#.###.#######################.#.#.#.###.#.#.#.#.#.#.#.###.#.#.###########.###.###.###.#.#####.###.#.###.#.#.#.#.#.#######.###########.#.#####
#.....#...#.....#...#...#...#.#.#.#.#...#.#.#...#.#.#.#...#.#...#.........#...#...#...#...#...#...#...#.#.#...#.#.#.......#...###...#.#.....#
#######.#.#.###.#.#.#.#.#.#.#.#.#.#.#.###.#.#####.#.#.#.###.###.#.#########.###.###.#####.#.###.#####.#.#.#####.#.#.#######.#.###.#.#.#####.#
#...###.#.#.#...#.#...#.#.#...#.#.#.#...#.#...#...#.#.#...#.###.#.#...#...#...#.###...#...#...#.#...#.#.#.#.....#.#...#.....#.....#.#...#...#
#.#.###.#.#.#.###.#####.#.#####.#.#.###.#.###.#.###.#.###.#.###.#.#.#.#.#.###.#.#####.#.#####.#.#.#.#.#.#.#.#####.###.#.###########.###.#.###
#.#.....#...#.....#...#...#...#...#...#.#...#.#.....#...#.#.#...#...#.#.#...#.#...#...#.#...#.#.#.#.#.#...#...#...#...#...#.........###...###
#.#################.#.#####.#.#######.#.###.#.#########.#.#.#.#######.#.###.#.###.#.###.#.#.#.#.#.#.#.#######.#.###.#####.#.#################
#.#.............#...#.......#...#...#.#...#.#.#.........#.#.#...#.....#.#...#...#.#...#.#.#.#.#...#...###.....#.#...#.....#.......###.......#
#.#.###########.#.#############.#.#.#.###.#.#.#.#########.#.###.#.#####.#.#####.#.###.#.#.#.#.###########.#####.#.###.###########.###.#####.#
#...#.........#...###...###...#...#.#.#...#...#.....#...#.#...#.#.......#.#...#.#.#...#...#.#.###.........#...#.#.###.#.........#...#.#.....#
#####.#######.#######.#.###.#.#####.#.#.###########.#.#.#.###.#.#########.#.#.#.#.#.#######.#.###.#########.#.#.#.###.#.#######.###.#.#.#####
#...#.....#...###...#.#.#...#.......#.#.......#.....#.#.#...#.#.#.........#.#.#.#.#.....#...#.#...#...#.....#...#.#...#.......#.....#.#.#...#
#.#.#####.#.#####.#.#.#.#.###########.#######.#.#####.#.###.#.#.#.#########.#.#.#.#####.#.###.#.###.#.#.#########.#.#########.#######.#.#.#.#
#.#...#...#...#...#...#...#.....#...#.....#...#.....#.#.....#.#.#.#.....#...#.#.#...#...#.#...#...#.#.#.#.........#...#.....#.......#.#...#.#
#.###.#.#####.#.###########.###.#.#.#####.#.#######.#.#######.#.#.#.###.#.###.#.###.#.###.#.#####.#.#.#.#.###########.#.###.#######.#.#####.#
#.#...#...#...#.#...#.......###.#.#.....#...#...#...#...#.....#.#.#.#...#.###.#.###...###.#.#...#...#...#.............#...#.........#.#.....#
#.#.#####.#.###.#.#.#.#########.#.#####.#####.#.#.#####.#.#####.#.#.#.###.###.#.#########.#.#.#.#########################.###########.#.#####
#.#.......#...#...#...#...#...#...#...#.....#.#...#.....#.......#.#.#...#.#...#.........#...#.#.....#.............#.....#.....#...#...#.....#
#.###########.#########.#.#.#.#####.#.#####.#.#####.#############.#.###.#.#.###########.#####.#####.#.###########.#.###.#####.#.#.#.#######.#
#.#.....#...#...#.......#.#.#.#.....#.......#.....#.......#.....#.#.#...#.#.#.....#.....#...#.....#.#...........#.#...#...#...#.#.#...#.....#
#.#.###.#.#.###.#.#######.#.#.#.#################.#######.#.###.#.#.#.###.#.#.###.#.#####.#.#####.#.###########.#.###.###.#.###.#.###.#.#####
#...#...#.#...#.#.......#...#.#.........###.....#...#.....#...#...#.#.#...#.#.###.#...#...#.......#...........#.#...#...#.#...#.#.....#.....#
#####.###.###.#.#######.#####.#########.###.###.###.#.#######.#####.#.#.###.#.###.###.#.#####################.#.###.###.#.###.#.###########.#
#.....#...#...#.....###.....#...........#...#...###.#...#.....#...#.#...###...#...#...#...#...#...#.........#...###.#...#...#...#.....#.....#
#.#####.###.#######.#######.#############.###.#####.###.#.#####.#.#.###########.###.#####.#.#.#.#.#.#######.#######.#.#####.#####.###.#.#####
#.#.....#...#.....#.#.......#...#.......#...#.#...#.....#.#...#.#.#.......#...#.....#.....#.#.#.#...#.......###...#...#####.#...#.###.#.#...#
#.#.#####.###.###.#.#.#######.#.#.#####.###.#.#.#.#######.#.#.#.#.#######.#.#.#######.#####.#.#.#####.#########.#.#########.#.#.#.###.#.#.#.#
#.#...###...#.#...#...#...#...#...#...#.....#...#.......#.#.#.#.#...#...#...#.......#.....#.#...#.....#...#...#.#.#...###...#.#.#.#...#...#.#
#.###.#####.#.#.#######.#.#.#######.#.#################.#.#.#.#.###.#.#.###########.#####.#.#####.#####.#.#.#.#.#.#.#.###.###.#.#.#.#######.#
#.....#.....#.#...#...#.#.#.#.......#.......#...........#...#.#.#...#.#...#...#.....#...#...#.....#.....#...#...#...#...#.#...#.#.#.......#.#
#######.#####.###.#.#.#.#.#.#.#############.#.###############.#.#.###.###.#.#.#.#####.#.#####.#####.###################.#.#.###.#.#######.#.#
#...###.....#...#...#...#...#.............#.#.......###...###...#.#...###...#.#.#...#.#...#...#...#.#.........#.....#...#...###.#.....#...#.#
#.#.#######.###.#########################.#.#######.###.#.#######.#.#########.#.#.#.#.###.#.###.#.#.#.#######.#.###.#.#########.#####.#.###.#
#.#.#...###.....#...#...#...#.............#.......#.....#.......#...#.........#.#.#.#...#.#.....#...#.......#.#...#.#.#.......#.#.....#.#...#
#.#.#.#.#########.#.#.#.#.#.#.###################.#############.#####.#########.#.#.###.#.#################.#.###.#.#.#.#####.#.#.#####.#.###
#.#.#.#.#...#.....#...#.#.#.#.............#.....#...#...#.....#.....#...#...#...#.#.....#...................#.....#.#...#.....#.#.....#...###
#.#.#.#.#.#.#.#########.#.#.#############.#.###.###.#.#.#.###.#####.###.#.#.#.###.#################################.#####.#####.#####.#######
#.#...#.#.#...#...#...#...#.###...........#.#...###...#...#...#...#...#.#.#...###.......#.....#...#...#.........###.....#...#...#...#.......#
#.#####.#.#####.#.#.#.#####.###.###########.#.#############.###.#.###.#.#.#############.#.###.#.#.#.#.#.#######.#######.###.#.###.#.#######.#
#.#...#...#.....#...#.....#.....#...........#.....#.......#.....#.#...#...#...#...#...#.#.#...#.#...#...#.....#.......#.#...#.#...#.#.....#.#
#.#.#.#####.#############.#######.###############.#.#####.#######.#.#######.#.#.#.#.#.#.#.#.###.#########.###.#######.#.#.###.#.###.#.###.#.#
#.#.#...#...#...........#.........#.....#.........#...#...#...###...#...#...#...#...#...#.#...#...#.......###.#.....#.#...###.#.###...#...#.#
#.#.###.#.###.#########.###########.###.#.###########.#.###.#.#######.#.#.###############.###.###.#.#########.#.###.#.#######.#.#######.###.#
#...###.#.###.........#.........###...#.#.............#.....#.........#.#...#.............###.....#.........#.#.###...###...#.#.......#.#...#
#######.#.###########.#########.#####.#.###############################.###.#.#############################.#.#.#########.#.#.#######.#.#.###
#.......#.#...###...#...#.....#.......#...........#.....#...........#...###...#...#...#...#...#...#.........#...#...#...#.#.#...#.....#...###
#.#######.#.#.###.#.###.#.###.###################.#.###.#.#########.#.#########.#.#.#.#.#.#.#.#.#.#.#############.#.#.#.#.#.###.#.###########
#.........#.#.....#.###...###...................#.#...#...#.......#...#.....#...#...#...#...#.#.#.#...............#...#...#.###...###.......#
###########.#######.###########################.#.###.#####.#####.#####.###.#.###############.#.#.#########################.#########.#####.#
#.......###.......#.......................#.....#.#...###...#.....#...#...#.#...#...#...#...#...#.#.........#...#...#.....#.....#...#...#...#
#.#####.#########.#######################.#.#####.#.#####.###.#####.#.###.#.###.#.#.#.#.#.#.#####.#.#######.#.#.#.#.#.###.#####.#.#.###.#.###
#.....#.#.......#.......................#...#...#...#...#...#.###...#.#...#.#...#.#...#...#...#...#.......#...#...#...###.#...#...#.....#.###
#####.#.#.#####.#######################.#####.#.#####.#.###.#.###.###.#.###.#.###.###########.#.#########.###############.#.#.###########.###
###...#...#...#.........................#...#.#.......#.#...#...#...#.#.#...#.#...#.....#.....#.....#...#.#...###...###...#.#.#...#.....#...#
###.#######.#.###########################.#.#.#########.#.#####.###.#.#.#.###.#.###.###.#.#########.#.#.#.#.#.###.#.###.###.#.#.#.#.###.###.#
#...#.....#.#.#...#.................#...#.#...#.........#.....#.#...#.#.#.###...###...#...#...#...#...#...#.#.....#...#.....#...#.#.#...#...#
#.###.###.#.#.#.#.#.###############.#.#.#.#####.#############.#.#.###.#.#.###########.#####.#.#.#.#########.#########.###########.#.#.###.###
#.....###...#...#...#...........###...#...#.....###...###...#.#.#.#...#.#.#...###...#.......#.#.#.....#.....#.........#...#...###...#.#...###
#####################.#########.###########.#######.#.###.#.#.#.#.#.###.#.#.#.###.#.#########.#.#####.#.#####.#########.#.#.#.#######.#.#####
#...........###...#...#########.........#...###...#.#.#...#.#.#.#.#.#...#.#.#.#...#.....#...#...#.....#.#.....#.........#...#...#...#...#...#
#.#########.###.#.#.###################.#.#####.#.#.#.#.###.#.#.#.#.#.###.#.#.#.#######.#.#.#####.#####.#.#####.###############.#.#.#####.#.#
#.#...#...#.....#...###################.#.....#.#.#.#.#.#...#.#.#.#.#...#.#.#.#.......#...#...###.......#.......#...#...#.......#.#.......#.#
#.#.#.#.#.#############################.#####.#.#.#.#.#.#.###.#.#.#.###.#.#.#.#######.#######.###################.#.#.#.#.#######.#########.#
#.#.#.#.#......E#######################.......#.#...#...#.#...#...#.###.#...#.#.....#.....#...#...#.....#.......#.#...#...#.....#...#.......#
#.#.#.#.#######################################.#########.#.#######.###.#####.#.###.#####.#.###.#.#.###.#.#####.#.#########.###.###.#.#######
#.#.#...#################################.....#...#.......#.....#...#...#.....#.#...#...#.#...#.#.#...#.#.....#.#.#...#...#.#...#...#.......#
#.#.#####################################.###.###.#.###########.#.###.###.#####.#.###.#.#.###.#.#.###.#.#####.#.#.#.#.#.#.#.#.###.#########.#
#...#...#################################.#...#...#...#.....#...#...#...#.....#.#.#...#...#...#.#.....#.......#...#.#...#...#.....#...#.....#
#####.#.#################################.#.###.#####.#.###.#.#####.###.#####.#.#.#.#######.###.###################.###############.#.#.#####
#.....#...###############################.#...#.#.....#...#.#.....#...#...#...#.#.#.#.....#...#.................###.#.....#...#.....#...#...#
#.#######.###############################.###.#.#.#######.#.#####.###.###.#.###.#.#.#.###.###.#################.###.#.###.#.#.#.#########.#.#
#.......#...#########################.....#...#.#.......#.#.#...#.#...###.#...#.#.#...#...#...#.......#.......#.....#...#.#.#.#...#...#...#.#
#######.###.#########################.#####.###.#######.#.#.#.#.#.#.#####.###.#.#.#####.###.###.#####.#.#####.#########.#.#.#.###.#.#.#.###.#
#.......#...#####################...#.....#.###.#.......#.#.#.#.#.#.#...#.#...#.#.#...#...#.###.....#.#.....#.#...#.....#...#.....#.#.#...#.#
#.#######.#######################.#.#####.#.###.#.#######.#.#.#.#.#.#.#.#.#.###.#.#.#.###.#.#######.#.#####.#.#.#.#.###############.#.###.#.#
#.......#.###..................S#.#.#...#.#.#...#...#.....#.#.#...#.#.#.#.#...#.#...#.#...#.#...#...#...#...#...#.#.....#.....#.....#.#...#.#
#######.#.###.###################.#.#.#.#.#.#.#####.#.#####.#.#####.#.#.#.###.#.#####.#.###.#.#.#.#####.#.#######.#####.#.###.#.#####.#.###.#
###...#.#.#...#...#.........#...#.#.#.#.#.#...#.....#.....#.#.#.....#.#.#.###.#.#.....#.#...#.#.#...#...#.#...###.#...#.#.#...#.....#.#.#...#
###.#.#.#.#.###.#.#.#######.#.#.#.#.#.#.#.#####.#########.#.#.#.#####.#.#.###.#.#.#####.#.###.#.###.#.###.#.#.###.#.#.#.#.#.#######.#.#.#.###
#...#...#...#...#...#.......#.#.#.#.#.#.#.....#.#...#...#.#.#.#.#...#.#.#...#...#.#...#.#...#.#.#...#...#...#...#.#.#...#.#...###...#...#.###
#.###########.#######.#######.#.#.#.#.#.#####.#.#.#.#.#.#.#.#.#.#.#.#.#.###.#####.#.#.#.###.#.#.#.#####.#######.#.#.#####.###.###.#######.###
#.#...........#.......#.....#.#.#.#.#.#.#...#.#.#.#.#.#.#.#.#.#.#.#.#.#.....###...#.#.#.#...#.#.#.#...#...#.....#.#...###.#...#...#.....#...#
#.#.###########.#######.###.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#########.###.#.#.#.###.#.#.#.#.###.#.#####.###.###.#.###.###.###.###.#
#...#...........#.....#.###...#.#.#...#.#.#.#.#.#.#.#.#.#.#...#.#.#.#...#.......#...#.#.#.#...#.#...#.###.#.....#...#.....#.....#...###.#...#
#####.###########.###.#.#######.#.#####.#.#.#.#.#.#.#.#.#.#####.#.#.###.#.#######.###.#.#.#.###.#####.###.#####.###.#############.#####.#.###
#.....#...#...#...###...#.......#.#.....#.#...#.#.#.#.#.#...#...#.#...#.#...#...#...#.#.#.#...#...#...#...#...#.###...#...#.....#.....#.#...#
#.#####.#.#.#.#.#########.#######.#.#####.#####.#.#.#.#.###.#.###.###.#.###.#.#.###.#.#.#.###.###.#.###.###.#.#.#####.#.#.#.###.#####.#.###.#
#.....#.#...#...#...#...#.....#...#.#...#...###...#.#.#...#.#...#...#...#...#.#.#...#.#.#.#...#...#...#.#...#.#.#.....#.#...#...#.....#.#...#
#####.#.#########.#.#.#.#####.#.###.#.#.###.#######.#.###.#.###.###.#####.###.#.#.###.#.#.#.###.#####.#.#.###.#.#.#####.#####.###.#####.#.###
#...#.#...#.......#...#.......#...#.#.#...#.....###...#...#.###...#.....#...#.#.#...#.#.#...#...#...#.#.#.###...#.#...#.....#...#.....#.#...#
#.#.#.###.#.#####################.#.#.###.#####.#######.###.#####.#####.###.#.#.###.#.#.#####.###.#.#.#.#.#######.#.#.#####.###.#####.#.###.#
#.#...#...#...#.........#...#...#.#.#.###.#...#...#...#...#.....#.#...#.#...#.#.#...#.#...#...#...#.#.#.#.#...###...#.#...#...#...#...#.#...#
#.#####.#####.#.#######.#.#.#.#.#.#.#.###.#.#.###.#.#.###.#####.#.#.#.#.#.###.#.#.###.###.#.###.###.#.#.#.#.#.#######.#.#.###.###.#.###.#.###
#.#...#.#...#...#.......#.#.#.#...#.#...#.#.#...#...#.###...#...#.#.#...#.#...#.#.#...#...#.#...#...#.#.#...#.....#...#.#.#...#...#...#.#...#
#.#.#.#.#.#.#####.#######.#.#.#####.###.#.#.###.#####.#####.#.###.#.#####.#.###.#.#.###.###.#.###.###.#.#########.#.###.#.#.###.#####.#.###.#
#.#.#.#.#.#.#...#.#.....#.#...###...#...#.#.#...#...#.#...#.#.###.#.#.....#...#...#...#.#...#...#.#...#...#.....#.#.....#.#.###...#...#.#...#
#.#.#.#.#.#.#.#.#.#.###.#.#######.###.###.#.#.###.#.#.#.#.#.#.###.#.#.#######.#######.#.#.#####.#.#.#####.#.###.#.#######.#.#####.#.###.#.###
#...#...#.#...#...#.#...#.###.....#...#...#.#...#.#.#.#.#...#...#.#.#...#...#.......#...#.#.....#...#.....#.#...#.....#...#...###...###.#...#
#########.#########.#.###.###.#####.###.###.###.#.#.#.#.#######.#.#.###.#.#.#######.#####.#.#########.#####.#.#######.#.#####.#########.###.#
#.........#.........#...#...#.#...#...#...#...#...#.#.#.....#...#.#.#...#.#...#...#.#.....#.........#.....#.#...#.....#.#...#.........#...#.#
#.#########.###########.###.#.#.#.###.###.###.#####.#.#####.#.###.#.#.###.###.#.#.#.#.#############.#####.#.###.#.#####.#.#.#########.###.#.#
#.....#...#.#...........#...#.#.#...#...#.....#.....#.....#.#.###...#.....###.#.#...#...#...#.....#.....#.#.#...#.....#.#.#...#...#...#...#.#
#####.#.#.#.#.###########.###.#.###.###.#######.#########.#.#.###############.#.#######.#.#.#.###.#####.#.#.#.#######.#.#.###.#.#.#.###.###.#
#...#...#.#.#...#.......#.#...#...#.....#.......#...#...#.#.#.....#...........#...#...#...#.#.###.#.....#...#.....#...#.#.#...#.#.#...#...#.#
#.#.#####.#.###.#.#####.#.#.#####.#######.#######.#.#.#.#.#.#####.#.#############.#.#.#####.#.###.#.#############.#.###.#.#.###.#.###.###.#.#
#.#.#...#...###...#.....#.#.......###.....#.....#.#.#.#...#.#.....#.......#.....#...#.....#.#.#...#.......###.....#.#...#.#...#.#.#...###.#.#
#.#.#.#.###########.#####.###########.#####.###.#.#.#.#####.#.###########.#.###.#########.#.#.#.#########.###.#####.#.###.###.#.#.#.#####.#.#
#.#...#.............#...#...........#.#...#.#...#.#.#.#.....#...#.........#.#...#.....#...#.#.#...#.....#.#...#...#.#...#...#.#.#.#.#.....#.#
#.###################.#.###########.#.#.#.#.#.###.#.#.#.#######.#.#########.#.###.###.#.###.#.###.#.###.#.#.###.#.#.###.###.#.#.#.#.#.#####.#
#.....................#.............#...#...#.....#...#.........#...........#.....###...###...###...###...#.....#...###.....#...#...#.......#
#############################################################################################################################################`,
}
